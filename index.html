<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GabrielDev's Roblox Models</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            padding: 50px 20px 30px;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .floating-btn {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
            white-space: nowrap;
        }

        .floating-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }

        .floating-btn.suggest-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .floating-btn.view-suggestions-btn {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            display: none;
        }

        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-selector select {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 1em;
            cursor: pointer;
            font-weight: 600;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f0f0f0;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .close-btn:hover {
            background: #ff6b6b;
            color: white;
            transform: rotate(90deg);
        }

        .modal h2 {
            color: #667eea;
            margin-bottom: 25px;
            text-align: center;
            font-size: 1.8em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .admin-panel {
            background: white;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .admin-panel h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .admin-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }

        .logout-btn {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: block;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .file-input-label:hover {
            transform: translateY(-2px);
        }

        .file-name {
            margin-top: 8px;
            font-size: 0.9em;
            color: #666;
        }

        .preview-image {
            max-width: 100%;
            max-height: 200px;
            margin-top: 10px;
            border-radius: 10px;
            display: none;
        }

        .stats-bar {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: white;
            padding: 25px 45px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            text-align: center;
        }

        .stat-card h3 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .stat-card p {
            color: #666;
            font-size: 1em;
        }

        .filter-bar {
            background: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-bar label {
            font-weight: 600;
            color: #333;
        }

        .filter-bar select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
        }

        .search-bar {
            background: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .search-bar input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1em;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #667eea;
        }

        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .model-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        }

        .model-card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .model-card-content {
            padding: 20px;
        }

        .model-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .model-card-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.5;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .category-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.75em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .admin-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.7em;
            font-weight: 700;
            z-index: 10;
        }

        .download-stat {
            font-size: 0.85em;
            color: #999;
            margin-top: 5px;
        }

        .model-card-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .download-btn-small,
        .view-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .download-btn-small {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .view-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .download-btn-small:hover,
        .view-btn:hover {
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            color: white;
            padding: 60px 20px;
        }

        .empty-state h3 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .message {
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .instructions {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .instructions h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .instructions p {
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #555;
        }

        .model-detail-image {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .detail-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .download-btn-large {
            flex: 1;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 14px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
        }

        .edit-btn,
        .delete-btn {
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
        }

        .edit-btn {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            color: white;
        }

        .delete-btn {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }
            
            .models-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <select id="languageSelect">
            <option value="en">üá∫üá∏ English</option>
            <option value="fr">üá´üá∑ Fran√ßais</option>
            <option value="es">üá™üá∏ Espa√±ol</option>
            <option value="de">üá©üá™ Deutsch</option>
        </select>
    </div>

    <div class="container">
        <header>
            <h1>üéÆ GabrielDev's Roblox Models</h1>
            <p>Professional Roblox Studio Creations</p>
        </header>

        <div class="stats-bar">
            <div class="stat-card">
                <h3 id="totalModels">0</h3>
                <p>Total Models</p>
            </div>
            <div class="stat-card">
                <h3 id="totalDownloads">0</h3>
                <p>Total Downloads</p>
            </div>
        </div>

        <div class="filter-bar">
            <label for="categoryFilter">Category:</label>
            <select id="categoryFilter">
                <option value="all">All Categories</option>
                <option value="Building">Building</option>
                <option value="Weapon">Weapon</option>
                <option value="Vehicle">Vehicle</option>
                <option value="Tool">Tool</option>
                <option value="Admin">Admin</option>
                <option value="UI">UI</option>
                <option value="Other">Other</option>
            </select>

            <label for="sortBy" style="margin-left: auto;">Sort by:</label>
            <select id="sortBy">
                <option value="newest">Newest First</option>
                <option value="oldest">Oldest First</option>
                <option value="downloads">Most Downloaded</option>
                <option value="name">Name (A-Z)</option>
            </select>
        </div>

        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="üîç Search models...">
        </div>

        <div id="adminPanel" class="admin-panel" style="display: none;">
            <div class="admin-actions">
                <h2 style="flex: 1;">‚ú® Admin Panel</h2>
                <button class="logout-btn" id="logoutBtn">üö™ Logout</button>
            </div>
            <div id="adminMessage"></div>
            <form id="modelForm">
                <input type="hidden" id="editingId">
                
                <div class="form-group">
                    <label for="modelName">üìù Model Name:</label>
                    <input type="text" id="modelName" required placeholder="e.g., Ultimate Admin Panel">
                </div>

                <div class="form-group">
                    <label for="modelCategory">üìÇ Category:</label>
                    <select id="modelCategory" required>
                        <option value="">Select a category...</option>
                        <option value="Building">Building</option>
                        <option value="Weapon">Weapon</option>
                        <option value="Vehicle">Vehicle</option>
                        <option value="Tool">Tool</option>
                        <option value="Admin">Admin</option>
                        <option value="UI">UI</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="modelDescription">üìÑ Description:</label>
                    <textarea id="modelDescription" required placeholder="Describe your model..."></textarea>
                </div>

                <div class="form-group">
                    <label for="setupInstructions">üìã Setup Instructions:</label>
                    <textarea id="setupInstructions" required placeholder="1. Open Roblox Studio&#10;2. Insert from file&#10;3. Configure settings"></textarea>
                </div>

                <div class="form-group">
                    <label>üñºÔ∏è Model Image:</label>
                    <div class="file-input-wrapper">
                        <input type="file" id="modelImage" accept="image/*">
                        <label for="modelImage" class="file-input-label">Choose Image</label>
                    </div>
                    <div class="file-name" id="imageName">No image selected</div>
                    <img id="imagePreview" class="preview-image">
                </div>

                <div class="form-group">
                    <label>üìÅ Model File (.rbxm or .rbxmx):</label>
                    <div class="file-input-wrapper">
                        <input type="file" id="modelFile" accept=".rbxm,.rbxmx">
                        <label for="modelFile" class="file-input-label">Choose Model File</label>
                    </div>
                    <div class="file-name" id="fileName">No file selected</div>
                </div>

                <button type="submit" class="btn" id="submitBtn">‚úÖ Add Model</button>
            </form>
        </div>

        <div id="modelsContainer" class="models-grid"></div>
    </div>

    <div class="floating-buttons">
        <button class="floating-btn view-suggestions-btn" id="viewSuggestionsBtn">üì¨ Suggestions</button>
        <button class="floating-btn suggest-btn" id="suggestBtn">üí° Suggest</button>
        <button class="floating-btn" id="adminLoginBtn">üîê Admin</button>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="closeLoginBtn">√ó</button>
            <form id="loginForm">
                <h2>üîê Admin Login</h2>
                <div id="loginMessage"></div>
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn">Login</button>
            </form>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="closeDetailBtn">√ó</button>
            <div id="detailContent"></div>
        </div>
    </div>

    <!-- Suggestion Modal -->
    <div id="suggestionModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" id="closeSuggestionBtn">√ó</button>
            <form id="suggestionForm">
                <h2>üí° Submit Suggestion</h2>
                <p style="color: #666; text-align: center; margin-bottom: 20px;">Share your ideas with us!</p>
                <div id="suggestionMessage"></div>
                <div class="form-group">
                    <label for="suggestionName">Your Name:</label>
                    <input type="text" id="suggestionName" required>
                </div>
                <div class="form-group">
                    <label for="suggestionEmail">Email (optional):</label>
                    <input type="email" id="suggestionEmail">
                </div>
                <div class="form-group">
                    <label for="suggestionText">Your Suggestion:</label>
                    <textarea id="suggestionText" required placeholder="Tell us your ideas..."></textarea>
                </div>
                <button type="submit" class="btn">üì§ Submit</button>
            </form>
        </div>
    </div>

    <script>
        // Configuration
        const ADMIN_USERNAME = 'GabrielDev';
        const ADMIN_PASSWORD = 'RobloxDev2024';
        
        // Translations
        const translations = {
            en: {
                title: "GabrielDev's Roblox Models",
                subtitle: "Professional Roblox Studio Creations",
                totalModels: "Total Models",
                totalDownloads: "Total Downloads",
                category: "Category:",
                allCategories: "All Categories",
                sortBy: "Sort by:",
                newest: "Newest First",
                oldest: "Oldest First",
                mostDownloaded: "Most Downloaded",
                nameAZ: "Name (A-Z)",
                searchPlaceholder: "üîç Search models...",
                adminPanel: "‚ú® Admin Panel",
                logout: "üö™ Logout",
                modelName: "üìù Model Name:",
                categoryLabel: "üìÇ Category:",
                selectCategory: "Select a category...",
                description: "üìÑ Description:",
                setupInstructions: "üìã Setup Instructions:",
                modelImage: "üñºÔ∏è Model Image:",
                chooseImage: "Choose Image",
                noImage: "No image selected",
                modelFile: "üìÅ Model File (.rbxm or .rbxmx):",
                chooseFile: "Choose Model File",
                noFile: "No file selected",
                addModel: "‚úÖ Add Model",
                updateModel: "‚úÖ Update Model",
                download: "‚¨áÔ∏è Download",
                view: "üëÅÔ∏è View",
                downloads: "downloads",
                adminLogin: "üîê Admin",
                suggest: "üí° Suggest",
                viewSuggestions: "üì¨ Suggestions",
                adminLoginTitle: "üîê Admin Login",
                username: "Username:",
                password: "Password:",
                login: "Login",
                suggestTitle: "üí° Submit Suggestion",
                suggestSubtitle: "Share your ideas with us!",
                yourName: "Your Name:",
                emailOptional: "Email (optional):",
                yourSuggestion: "Your Suggestion:",
                suggestPlaceholder: "Tell us your ideas...",
                submit: "üì§ Submit",
                noModelsFound: "No models found!",
                addFirstModel: "Add your first model!",
                checkBackSoon: "Check back soon!",
                tryDifferentSearch: "Try adjusting your filters",
                invalidCredentials: "‚ùå Invalid credentials!",
                welcome: "‚úÖ Welcome!",
                thankYou: "‚úÖ Thank you!",
                updated: "‚úÖ Updated!",
                added: "‚úÖ Added!",
                deleted: "‚úÖ Deleted!",
                selectModelFile: "‚ö†Ô∏è Please select a model file!",
                deleteConfirm: "üóëÔ∏è Delete this model?",
                logoutConfirm: "Logout?",
                noSuggestions: "No suggestions yet!",
                userSuggestions: "üí° User Suggestions",
                edit: "‚úèÔ∏è Edit",
                delete: "üóëÔ∏è Delete",
                languageComingSoon: "üåç Language translations are now active!",
                Building: "Building",
                Weapon: "Weapon",
                Vehicle: "Vehicle",
                Tool: "Tool",
                Admin: "Admin",
                UI: "UI",
                Other: "Other"
            },
            fr: {
                title: "Mod√®les Roblox de GabrielDev",
                subtitle: "Cr√©ations Professionnelles Roblox Studio",
                totalModels: "Total Mod√®les",
                totalDownloads: "Total T√©l√©chargements",
                category: "Cat√©gorie:",
                allCategories: "Toutes Cat√©gories",
                sortBy: "Trier par:",
                newest: "Plus R√©cent",
                oldest: "Plus Ancien",
                mostDownloaded: "Plus T√©l√©charg√©",
                nameAZ: "Nom (A-Z)",
                searchPlaceholder: "üîç Rechercher des mod√®les...",
                adminPanel: "‚ú® Panneau Admin",
                logout: "üö™ D√©connexion",
                modelName: "üìù Nom du Mod√®le:",
                categoryLabel: "üìÇ Cat√©gorie:",
                selectCategory: "S√©lectionner une cat√©gorie...",
                description: "üìÑ Description:",
                setupInstructions: "üìã Instructions d'Installation:",
                modelImage: "üñºÔ∏è Image du Mod√®le:",
                chooseImage: "Choisir Image",
                noImage: "Aucune image",
                modelFile: "üìÅ Fichier Mod√®le (.rbxm ou .rbxmx):",
                chooseFile: "Choisir Fichier",
                noFile: "Aucun fichier",
                addModel: "‚úÖ Ajouter Mod√®le",
                updateModel: "‚úÖ Mettre √† Jour",
                download: "‚¨áÔ∏è T√©l√©charger",
                view: "üëÅÔ∏è Voir",
                downloads: "t√©l√©chargements",
                adminLogin: "üîê Admin",
                suggest: "üí° Sugg√©rer",
                viewSuggestions: "üì¨ Suggestions",
                adminLoginTitle: "üîê Connexion Admin",
                username: "Nom d'utilisateur:",
                password: "Mot de passe:",
                login: "Connexion",
                suggestTitle: "üí° Soumettre Suggestion",
                suggestSubtitle: "Partagez vos id√©es!",
                yourName: "Votre Nom:",
                emailOptional: "Email (optionnel):",
                yourSuggestion: "Votre Suggestion:",
                suggestPlaceholder: "Partagez vos id√©es...",
                submit: "üì§ Envoyer",
                noModelsFound: "Aucun mod√®le trouv√©!",
                addFirstModel: "Ajoutez votre premier mod√®le!",
                checkBackSoon: "Revenez bient√¥t!",
                tryDifferentSearch: "Ajustez vos filtres",
                invalidCredentials: "‚ùå Identifiants invalides!",
                welcome: "‚úÖ Bienvenue!",
                thankYou: "‚úÖ Merci!",
                updated: "‚úÖ Mis √† jour!",
                added: "‚úÖ Ajout√©!",
                deleted: "‚úÖ Supprim√©!",
                selectModelFile: "‚ö†Ô∏è S√©lectionnez un fichier!",
                deleteConfirm: "üóëÔ∏è Supprimer ce mod√®le?",
                logoutConfirm: "Se d√©connecter?",
                noSuggestions: "Aucune suggestion!",
                userSuggestions: "üí° Suggestions d'Utilisateurs",
                edit: "‚úèÔ∏è Modifier",
                delete: "üóëÔ∏è Supprimer",
                languageComingSoon: "üåç Traductions actives!",
                Building: "Construction",
                Weapon: "Arme",
                Vehicle: "V√©hicule",
                Tool: "Outil",
                Admin: "Admin",
                UI: "Interface",
                Other: "Autre"
            },
            es: {
                title: "Modelos Roblox de GabrielDev",
                subtitle: "Creaciones Profesionales Roblox Studio",
                totalModels: "Total Modelos",
                totalDownloads: "Total Descargas",
                category: "Categor√≠a:",
                allCategories: "Todas Categor√≠as",
                sortBy: "Ordenar por:",
                newest: "M√°s Reciente",
                oldest: "M√°s Antiguo",
                mostDownloaded: "M√°s Descargado",
                nameAZ: "Nombre (A-Z)",
                searchPlaceholder: "üîç Buscar modelos...",
                adminPanel: "‚ú® Panel Admin",
                logout: "üö™ Cerrar Sesi√≥n",
                modelName: "üìù Nombre del Modelo:",
                categoryLabel: "üìÇ Categor√≠a:",
                selectCategory: "Seleccionar categor√≠a...",
                description: "üìÑ Descripci√≥n:",
                setupInstructions: "üìã Instrucciones de Instalaci√≥n:",
                modelImage: "üñºÔ∏è Imagen del Modelo:",
                chooseImage: "Elegir Imagen",
                noImage: "Sin imagen",
                modelFile: "üìÅ Archivo Modelo (.rbxm o .rbxmx):",
                chooseFile: "Elegir Archivo",
                noFile: "Sin archivo",
                addModel: "‚úÖ Agregar Modelo",
                updateModel: "‚úÖ Actualizar",
                download: "‚¨áÔ∏è Descargar",
                view: "üëÅÔ∏è Ver",
                downloads: "descargas",
                adminLogin: "üîê Admin",
                suggest: "üí° Sugerir",
                viewSuggestions: "üì¨ Sugerencias",
                adminLoginTitle: "üîê Inicio Admin",
                username: "Usuario:",
                password: "Contrase√±a:",
                login: "Iniciar Sesi√≥n",
                suggestTitle: "üí° Enviar Sugerencia",
                suggestSubtitle: "¬°Comparte tus ideas!",
                yourName: "Tu Nombre:",
                emailOptional: "Email (opcional):",
                yourSuggestion: "Tu Sugerencia:",
                suggestPlaceholder: "Cu√©ntanos tus ideas...",
                submit: "üì§ Enviar",
                noModelsFound: "¬°No se encontraron modelos!",
                addFirstModel: "¬°Agrega tu primer modelo!",
                checkBackSoon: "¬°Vuelve pronto!",
                tryDifferentSearch: "Ajusta tus filtros",
                invalidCredentials: "‚ùå Credenciales inv√°lidas!",
                welcome: "‚úÖ ¬°Bienvenido!",
                thankYou: "‚úÖ ¬°Gracias!",
                updated: "‚úÖ ¬°Actualizado!",
                added: "‚úÖ ¬°Agregado!",
                deleted: "‚úÖ ¬°Eliminado!",
                selectModelFile: "‚ö†Ô∏è ¬°Selecciona un archivo!",
                deleteConfirm: "üóëÔ∏è ¬øEliminar este modelo?",
                logoutConfirm: "¬øCerrar sesi√≥n?",
                noSuggestions: "¬°Sin sugerencias!",
                userSuggestions: "üí° Sugerencias de Usuarios",
                edit: "‚úèÔ∏è Editar",
                delete: "üóëÔ∏è Eliminar",
                languageComingSoon: "üåç ¬°Traducciones activas!",
                Building: "Edificio",
                Weapon: "Arma",
                Vehicle: "Veh√≠culo",
                Tool: "Herramienta",
                Admin: "Admin",
                UI: "Interfaz",
                Other: "Otro"
            },
            de: {
                title: "GabrielDevs Roblox-Modelle",
                subtitle: "Professionelle Roblox Studio Kreationen",
                totalModels: "Gesamt Modelle",
                totalDownloads: "Gesamt Downloads",
                category: "Kategorie:",
                allCategories: "Alle Kategorien",
                sortBy: "Sortieren:",
                newest: "Neueste Zuerst",
                oldest: "√Ñlteste Zuerst",
                mostDownloaded: "Meist Heruntergeladen",
                nameAZ: "Name (A-Z)",
                searchPlaceholder: "üîç Modelle suchen...",
                adminPanel: "‚ú® Admin Panel",
                logout: "üö™ Abmelden",
                modelName: "üìù Modellname:",
                categoryLabel: "üìÇ Kategorie:",
                selectCategory: "Kategorie w√§hlen...",
                description: "üìÑ Beschreibung:",
                setupInstructions: "üìã Installationsanleitung:",
                modelImage: "üñºÔ∏è Modellbild:",
                chooseImage: "Bild W√§hlen",
                noImage: "Kein Bild",
                modelFile: "üìÅ Modelldatei (.rbxm oder .rbxmx):",
                chooseFile: "Datei W√§hlen",
                noFile: "Keine Datei",
                addModel: "‚úÖ Modell Hinzuf√ºgen",
                updateModel: "‚úÖ Aktualisieren",
                download: "‚¨áÔ∏è Herunterladen",
                view: "üëÅÔ∏è Ansehen",
                downloads: "Downloads",
                adminLogin: "üîê Admin",
                suggest: "üí° Vorschlagen",
                viewSuggestions: "üì¨ Vorschl√§ge",
                adminLoginTitle: "üîê Admin-Anmeldung",
                username: "Benutzername:",
                password: "Passwort:",
                login: "Anmelden",
                suggestTitle: "üí° Vorschlag Einreichen",
                suggestSubtitle: "Teile deine Ideen!",
                yourName: "Dein Name:",
                emailOptional: "E-Mail (optional):",
                yourSuggestion: "Dein Vorschlag:",
                suggestPlaceholder: "Erz√§hle uns deine Ideen...",
                submit: "üì§ Senden",
                noModelsFound: "Keine Modelle gefunden!",
                addFirstModel: "F√ºge dein erstes Modell hinzu!",
                checkBackSoon: "Schau bald wieder vorbei!",
                tryDifferentSearch: "Filter anpassen",
                invalidCredentials: "‚ùå Ung√ºltige Anmeldedaten!",
                welcome: "‚úÖ Willkommen!",
                thankYou: "‚úÖ Danke!",
                updated: "‚úÖ Aktualisiert!",
                added: "‚úÖ Hinzugef√ºgt!",
                deleted: "‚úÖ Gel√∂scht!",
                selectModelFile: "‚ö†Ô∏è Bitte Datei w√§hlen!",
                deleteConfirm: "üóëÔ∏è Modell l√∂schen?",
                logoutConfirm: "Abmelden?",
                noSuggestions: "Keine Vorschl√§ge!",
                userSuggestions: "üí° Benutzervorschl√§ge",
                edit: "‚úèÔ∏è Bearbeiten",
                delete: "üóëÔ∏è L√∂schen",
                languageComingSoon: "üåç √úbersetzungen aktiv!",
                Building: "Geb√§ude",
                Weapon: "Waffe",
                Vehicle: "Fahrzeug",
                Tool: "Werkzeug",
                Admin: "Admin",
                UI: "Benutzeroberfl√§che",
                Other: "Andere"
            },
            pt: {
                title: "Modelos Roblox do GabrielDev",
                subtitle: "Cria√ß√µes Profissionais Roblox Studio",
                totalModels: "Total Modelos",
                totalDownloads: "Total Downloads",
                category: "Categoria:",
                allCategories: "Todas Categorias",
                sortBy: "Ordenar por:",
                newest: "Mais Recente",
                oldest: "Mais Antigo",
                mostDownloaded: "Mais Baixado",
                nameAZ: "Nome (A-Z)",
                searchPlaceholder: "üîç Pesquisar modelos...",
                adminPanel: "‚ú® Painel Admin",
                logout: "üö™ Sair",
                modelName: "üìù Nome do Modelo:",
                categoryLabel: "üìÇ Categoria:",
                selectCategory: "Selecionar categoria...",
                description: "üìÑ Descri√ß√£o:",
                setupInstructions: "üìã Instru√ß√µes de Instala√ß√£o:",
                modelImage: "üñºÔ∏è Imagem do Modelo:",
                chooseImage: "Escolher Imagem",
                noImage: "Sem imagem",
                modelFile: "üìÅ Arquivo Modelo (.rbxm ou .rbxmx):",
                chooseFile: "Escolher Arquivo",
                noFile: "Sem arquivo",
                addModel: "‚úÖ Adicionar Modelo",
                updateModel: "‚úÖ Atualizar",
                download: "‚¨áÔ∏è Baixar",
                view: "üëÅÔ∏è Ver",
                downloads: "downloads",
                adminLogin: "üîê Admin",
                suggest: "üí° Sugerir",
                viewSuggestions: "üì¨ Sugest√µes",
                adminLoginTitle: "üîê Login Admin",
                username: "Usu√°rio:",
                password: "Senha:",
                login: "Entrar",
                suggestTitle: "üí° Enviar Sugest√£o",
                suggestSubtitle: "Compartilhe suas ideias!",
                yourName: "Seu Nome:",
                emailOptional: "Email (opcional):",
                yourSuggestion: "Sua Sugest√£o:",
                suggestPlaceholder: "Conte-nos suas ideias...",
                submit: "üì§ Enviar",
                noModelsFound: "Nenhum modelo encontrado!",
                addFirstModel: "Adicione seu primeiro modelo!",
                checkBackSoon: "Volte em breve!",
                tryDifferentSearch: "Ajuste seus filtros",
                invalidCredentials: "‚ùå Credenciais inv√°lidas!",
                welcome: "‚úÖ Bem-vindo!",
                thankYou: "‚úÖ Obrigado!",
                updated: "‚úÖ Atualizado!",
                added: "‚úÖ Adicionado!",
                deleted: "‚úÖ Deletado!",
                selectModelFile: "‚ö†Ô∏è Selecione um arquivo!",
                deleteConfirm: "üóëÔ∏è Deletar este modelo?",
                logoutConfirm: "Sair?",
                noSuggestions: "Sem sugest√µes!",
                userSuggestions: "üí° Sugest√µes de Usu√°rios",
                edit: "‚úèÔ∏è Editar",
                delete: "üóëÔ∏è Deletar",
                languageComingSoon: "üåç Tradu√ß√µes ativas!",
                Building: "Constru√ß√£o",
                Weapon: "Arma",
                Vehicle: "Ve√≠culo",
                Tool: "Ferramenta",
                Admin: "Admin",
                UI: "Interface",
                Other: "Outro"
            }
        };
        
        // Current language
        let currentLang = 'en';
        
        // State
        let models = [];
        let isAdmin = false;

        // Load data
        function loadData() {
            try {
                const saved = localStorage.getItem('roblox-models');
                if (saved) {
                    models = JSON.parse(saved).models || [];
                }
            } catch (e) {
                console.log('Starting fresh');
            }
            renderModels();
        }

        // Save data
        function saveData() {
            try {
                localStorage.setItem('roblox-models', JSON.stringify({ models }));
            } catch (e) {
                alert('Error saving data');
            }
        }

        // Show message
        function showMessage(elementId, messageKey, type) {
            const t = translations[currentLang];
            const el = document.getElementById(elementId);
            el.className = type === 'error' ? 'error-message message' : 'success-message message';
            el.textContent = t[messageKey];
            setTimeout(() => {
                el.textContent = '';
                el.className = '';
            }, 4000);
        }

        // Event Listeners
        document.getElementById('adminLoginBtn').addEventListener('click', function() {
            if (isAdmin) {
                document.getElementById('adminPanel').style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                document.getElementById('loginModal').classList.add('active');
            }
        });

        document.getElementById('closeLoginBtn').addEventListener('click', function() {
            document.getElementById('loginModal').classList.remove('active');
        });

        document.getElementById('suggestBtn').addEventListener('click', function() {
            document.getElementById('suggestionModal').classList.add('active');
        });

        document.getElementById('closeSuggestionBtn').addEventListener('click', function() {
            document.getElementById('suggestionModal').classList.remove('active');
        });

        document.getElementById('closeDetailBtn').addEventListener('click', function() {
            document.getElementById('detailModal').classList.remove('active');
        });

        document.getElementById('logoutBtn').addEventListener('click', function() {
            const t = translations[currentLang];
            if (confirm(t.logoutConfirm)) {
                isAdmin = false;
                document.getElementById('adminPanel').style.display = 'none';
                document.getElementById('viewSuggestionsBtn').style.display = 'none';
                renderModels();
            }
        });

        document.getElementById('viewSuggestionsBtn').addEventListener('click', function() {
            const t = translations[currentLang];
            let suggestions = [];
            try {
                const saved = localStorage.getItem('roblox-suggestions');
                if (saved) suggestions = JSON.parse(saved);
            } catch (e) {}
            
            if (suggestions.length === 0) {
                alert(t.noSuggestions);
                return;
            }
            
            let html = `<h2 style="color: #667eea; margin-bottom: 20px;">${t.userSuggestions}</h2>`;
            suggestions.reverse().forEach(s => {
                html += `<div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #667eea;">
                    <strong>${s.name}</strong> ${s.email ? `(${s.email})` : ''}<br>
                    <p style="margin-top: 10px;">${s.message}</p>
                    <small style="color: #999;">${new Date(s.date).toLocaleDateString()}</small>
                </div>`;
            });
            
            document.getElementById('detailContent').innerHTML = html;
            document.getElementById('detailModal').classList.add('active');
        });

        // Login form
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            
            if (user === ADMIN_USERNAME && pass === ADMIN_PASSWORD) {
                isAdmin = true;
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('viewSuggestionsBtn').style.display = 'block';
                document.getElementById('loginModal').classList.remove('active');
                updateLanguage();
                renderModels();
                window.scrollTo({ top: 0, behavior: 'smooth' });
                alert(translations[currentLang].welcome);
            } else {
                showMessage('loginMessage', 'invalidCredentials', 'error');
            }
        });

        // Suggestion form
        document.getElementById('suggestionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const suggestion = {
                id: Date.now(),
                name: document.getElementById('suggestionName').value,
                email: document.getElementById('suggestionEmail').value,
                message: document.getElementById('suggestionText').value,
                date: new Date().toISOString()
            };
            
            let suggestions = [];
            try {
                const saved = localStorage.getItem('roblox-suggestions');
                if (saved) suggestions = JSON.parse(saved);
            } catch (e) {}
            
            suggestions.push(suggestion);
            localStorage.setItem('roblox-suggestions', JSON.stringify(suggestions));
            
            showMessage('suggestionMessage', 'thankYou', 'success');
            document.getElementById('suggestionForm').reset();
            
            setTimeout(() => {
                document.getElementById('suggestionModal').classList.remove('active');
            }, 2000);
        });

        // File inputs
        document.getElementById('modelImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            document.getElementById('imageName').textContent = file ? file.name : 'No image';
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById('imagePreview').src = event.target.result;
                    document.getElementById('imagePreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('modelFile').addEventListener('change', function(e) {
            document.getElementById('fileName').textContent = e.target.files[0] ? e.target.files[0].name : 'No file';
        });

        // Model form
        document.getElementById('modelForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Saving...';
            
            const name = document.getElementById('modelName').value;
            const category = document.getElementById('modelCategory').value;
            const description = document.getElementById('modelDescription').value;
            const instructions = document.getElementById('setupInstructions').value;
            const imageInput = document.getElementById('modelImage');
            const fileInput = document.getElementById('modelFile');
            const editingId = document.getElementById('editingId').value;
            
            if (!editingId && !fileInput.files[0]) {
                showMessage('adminMessage', 'selectModelFile', 'error');
                submitBtn.disabled = false;
                submitBtn.textContent = translations[currentLang].addModel;
                return;
            }
            
            function processModel(imageData, fileData, fileName) {
                const t = translations[currentLang];
                if (editingId) {
                    const index = models.findIndex(m => m.id == editingId);
                    models[index] = {
                        ...models[index],
                        name, category, description, instructions,
                        imageData: imageData || models[index].imageData,
                        fileData: fileData || models[index].fileData,
                        fileName: fileName || models[index].fileName
                    };
                    showMessage('adminMessage', 'updated', 'success');
                } else {
                    models.push({
                        id: Date.now(),
                        name, category, description, instructions,
                        imageData, fileData, fileName,
                        downloads: 0
                    });
                    showMessage('adminMessage', 'added', 'success');
                }
                
                saveData();
                renderModels();
                resetForm();
                submitBtn.disabled = false;
            }
            
            let imageData = null;
            let fileData = null;
            let fileName = null;
            
            if (imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageData = e.target.result;
                    
                    if (fileInput.files[0]) {
                        const reader2 = new FileReader();
                        reader2.onload = function(e2) {
                            fileData = e2.target.result;
                            fileName = fileInput.files[0].name;
                            processModel(imageData, fileData, fileName);
                        };
                        reader2.readAsDataURL(fileInput.files[0]);
                    } else {
                        processModel(imageData, null, null);
                    }
                };
                reader.readAsDataURL(imageInput.files[0]);
            } else if (fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    fileData = e.target.result;
                    fileName = fileInput.files[0].name;
                    processModel(null, fileData, fileName);
                };
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                processModel(null, null, null);
            }
        });

        // Search and filter
        document.getElementById('searchInput').addEventListener('input', renderModels);
        document.getElementById('categoryFilter').addEventListener('change', renderModels);
        document.getElementById('sortBy').addEventListener('change', renderModels);
        
        document.getElementById('languageSelect').addEventListener('change', function(e) {
            currentLang = e.target.value;
            updateLanguage();
            renderModels();
        });

        // Update language function
        function updateLanguage() {
            const t = translations[currentLang];
            
            // Header
            document.querySelector('header h1').textContent = t.title;
            document.querySelector('header p').textContent = t.subtitle;
            
            // Stats
            document.querySelectorAll('.stat-card p')[0].textContent = t.totalModels;
            document.querySelectorAll('.stat-card p')[1].textContent = t.totalDownloads;
            
            // Filter bar
            document.querySelector('label[for="categoryFilter"]').textContent = t.category;
            document.querySelector('#categoryFilter option[value="all"]').textContent = t.allCategories;
            document.querySelector('label[for="sortBy"]').textContent = t.sortBy;
            document.querySelector('#sortBy option[value="newest"]').textContent = t.newest;
            document.querySelector('#sortBy option[value="oldest"]').textContent = t.oldest;
            document.querySelector('#sortBy option[value="downloads"]').textContent = t.mostDownloaded;
            document.querySelector('#sortBy option[value="name"]').textContent = t.nameAZ;
            
            // Category options
            const categories = ['Building', 'Weapon', 'Vehicle', 'Tool', 'Admin', 'UI', 'Other'];
            const categorySelect = document.getElementById('categoryFilter');
            for (let i = 1; i < categorySelect.options.length; i++) {
                const value = categorySelect.options[i].value;
                categorySelect.options[i].textContent = t[value];
            }
            
            // Search
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            
            // Floating buttons
            document.getElementById('viewSuggestionsBtn').innerHTML = t.viewSuggestions;
            document.getElementById('suggestBtn').innerHTML = t.suggest;
            document.getElementById('adminLoginBtn').innerHTML = t.adminLogin;
            
            // Admin panel
            if (isAdmin) {
                document.querySelector('.admin-actions h2').textContent = t.adminPanel;
                document.getElementById('logoutBtn').textContent = t.logout;
                document.querySelector('label[for="modelName"]').textContent = t.modelName;
                document.querySelector('label[for="modelCategory"]').textContent = t.categoryLabel;
                document.querySelector('#modelCategory option[value=""]').textContent = t.selectCategory;
                document.querySelector('label[for="modelDescription"]').textContent = t.description;
                document.querySelector('label[for="setupInstructions"]').textContent = t.setupInstructions;
                document.querySelectorAll('.form-group label')[4].textContent = t.modelImage;
                document.querySelector('label[for="modelImage"]').textContent = t.chooseImage;
                document.querySelectorAll('.form-group label')[5].textContent = t.modelFile;
                document.querySelector('label[for="modelFile"]').textContent = t.chooseFile;
                
                // Update category options in admin form
                const adminCategorySelect = document.getElementById('modelCategory');
                for (let i = 1; i < adminCategorySelect.options.length; i++) {
                    const value = adminCategorySelect.options[i].value;
                    adminCategorySelect.options[i].textContent = t[value];
                }
            }
            
            // Login modal
            document.querySelector('#loginForm h2').textContent = t.adminLoginTitle;
            document.querySelector('label[for="username"]').textContent = t.username;
            document.querySelector('label[for="password"]').textContent = t.password;
            document.querySelector('#loginForm button[type="submit"]').textContent = t.login;
            
            // Suggestion modal
            document.querySelector('#suggestionForm h2').textContent = t.suggestTitle;
            document.querySelector('#suggestionForm p').textContent = t.suggestSubtitle;
            document.querySelector('label[for="suggestionName"]').textContent = t.yourName;
            document.querySelector('label[for="suggestionEmail"]').textContent = t.emailOptional;
            document.querySelector('label[for="suggestionText"]').textContent = t.yourSuggestion;
            document.getElementById('suggestionText').placeholder = t.suggestPlaceholder;
            document.querySelector('#suggestionForm button[type="submit"]').textContent = t.submit;
        }

        // Reset form
        function resetForm() {
            const t = translations[currentLang];
            document.getElementById('modelForm').reset();
            document.getElementById('editingId').value = '';
            document.getElementById('imageName').textContent = t.noImage;
            document.getElementById('fileName').textContent = t.noFile;
            document.getElementById('imagePreview').style.display = 'none';
            document.getElementById('submitBtn').textContent = t.addModel;
        }

        // Render models
        function renderModels() {
            const t = translations[currentLang];
            const container = document.getElementById('modelsContainer');
            const search = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const sortBy = document.getElementById('sortBy').value;
            
            let filtered = models.filter(m => {
                const matchSearch = m.name.toLowerCase().includes(search) || 
                                  m.description.toLowerCase().includes(search);
                const matchCategory = categoryFilter === 'all' || m.category === categoryFilter;
                return matchSearch && matchCategory;
            });
            
            if (sortBy === 'newest') filtered.sort((a, b) => b.id - a.id);
            else if (sortBy === 'oldest') filtered.sort((a, b) => a.id - b.id);
            else if (sortBy === 'downloads') filtered.sort((a, b) => b.downloads - a.downloads);
            else if (sortBy === 'name') filtered.sort((a, b) => a.name.localeCompare(b.name));
            
            if (filtered.length === 0) {
                const emptyMsg = search || categoryFilter !== 'all' ? t.tryDifferentSearch : (isAdmin ? t.addFirstModel : t.checkBackSoon);
                container.innerHTML = `<div class="empty-state"><h3>${t.noModelsFound}</h3><p>${emptyMsg}</p></div>`;
                updateStats();
                return;
            }
            
            container.innerHTML = filtered.map(m => `
                <div class="model-card">
                    ${isAdmin ? '<div class="admin-badge">ADMIN</div>' : ''}
                    ${m.imageData ? `<img src="${m.imageData}" class="model-card-image">` : '<div class="model-card-image"></div>'}
                    <div class="model-card-content">
                        <span class="category-badge">${t[m.category] || t.Other}</span>
                        <h3>${m.name}</h3>
                        <p class="model-card-description">${m.description}</p>
                        <div class="download-stat">‚¨áÔ∏è ${m.downloads} ${t.downloads}</div>
                        <div class="model-card-actions">
                            <button class="download-btn-small" onclick="downloadModel(${m.id})">${t.download}</button>
                            <button class="view-btn" onclick="showDetail(${m.id})">${t.view}</button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            updateStats();
        }

        // Show detail
        function showDetail(id) {
            const t = translations[currentLang];
            const m = models.find(model => model.id === id);
            if (!m) return;
            
            document.getElementById('detailContent').innerHTML = `
                ${m.imageData ? `<img src="${m.imageData}" class="model-detail-image">` : ''}
                <span class="category-badge">${t[m.category] || t.Other}</span>
                <h2>${m.name}</h2>
                <p>${m.description}</p>
                <div class="instructions">
                    <h4>${t.setupInstructions}</h4>
                    <p>${m.instructions}</p>
                </div>
                <p style="color: #999; margin-top: 15px;">‚¨áÔ∏è ${m.downloads} ${t.downloads}</p>
                <div class="detail-actions">
                    <button class="download-btn-large" onclick="downloadModel(${m.id})">${t.download} ${m.fileName}</button>
                    ${isAdmin ? `
                        <button class="edit-btn" onclick="editModel(${m.id}); document.getElementById('detailModal').classList.remove('active');">${t.edit}</button>
                        <button class="delete-btn" onclick="deleteModel(${m.id}); document.getElementById('detailModal').classList.remove('active');">${t.delete}</button>
                    ` : ''}
                </div>
            `;
            
            document.getElementById('detailModal').classList.add('active');
        }

        // Download model
        function downloadModel(id) {
            const m = models.find(model => model.id === id);
            if (!m) return;
            
            const link = document.createElement('a');
            link.href = m.fileData;
            link.download = m.fileName;
            link.click();
            
            m.downloads++;
            saveData();
            
            if (document.getElementById('detailModal').classList.contains('active')) {
                showDetail(id);
            } else {
                renderModels();
            }
        }

        // Edit model
        function editModel(id) {
            const t = translations[currentLang];
            const m = models.find(model => model.id === id);
            if (!m) return;
            
            document.getElementById('editingId').value = m.id;
            document.getElementById('modelName').value = m.name;
            document.getElementById('modelCategory').value = m.category || '';
            document.getElementById('modelDescription').value = m.description;
            document.getElementById('setupInstructions').value = m.instructions;
            document.getElementById('submitBtn').textContent = t.updateModel;
            
            if (m.imageData) {
                document.getElementById('imagePreview').src = m.imageData;
                document.getElementById('imagePreview').style.display = 'block';
                document.getElementById('imageName').textContent = 'Current image';
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Delete model
        function deleteModel(id) {
            const t = translations[currentLang];
            if (confirm(t.deleteConfirm)) {
                models = models.filter(m => m.id !== id);
                saveData();
                renderModels();
                showMessage('adminMessage', 'deleted', 'success');
            }
        }

        // Update stats
        function updateStats() {
            document.getElementById('totalModels').textContent = models.length;
            document.getElementById('totalDownloads').textContent = models.reduce((sum, m) => sum + m.downloads, 0);
        }

        // Initialize
        loadData();
    </script>
</body>
</html>